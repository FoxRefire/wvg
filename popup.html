<!-- HTML -->
<html lang="en">

  <!-- Heading -->
  <head>
    <meta charset="UTF-8">
    <title>Widevine L3 Decrypter</title>
    <link rel="stylesheet" href="style.css">
    <script src="pyodide/pyodide.js"></script>
  </head>

  <!-- Body -->
  <body>



    <!-- noEME -->
    <div id="noEME">
      Widevine content hasn't detected in this page.
      <br>
      Open Widevine protected website and try again!
    </div>

    <!-- Main -->
    <div id="wvHome" >

      <!-- Decryption forms -->
      <form id="wvForm">

        <!-- PSSH line -->
        <div id="wvHomePSSHLines">
          <label for="pssh">PSSH</label>
          <input type="text" id="pssh" disabled/>
          <input type="hidden" id="psshIndex" />
          <input type="button" id="psshButton" value="Select" />
          <br>
        </div>

        <!-- License URL line -->
        <div id="wvHomeLicenseLine">
          <label for="license">License URL</label>
          <input type="text" id="license" disabled/>
          <input type="hidden" id="licenseIndex" />
          <input type="button" id="licenseButton" value="Select" />
          <br>
        </div>

        <!-- Scheme line -->
        <div id="wvHomeSchemeLine">
          <label for="scheme">Challenge scheme</label>
            <select id="scheme">
              <option value="CommonWV">CommonWV</option>
              <option value="Amazon">Amazon</option>
              <option value="CanalPlus">Canal+</option>
              <option value="CanalPlus2">Canal+(Alt)</option>
              <option value="Comcast">Comcast Xfinity</option>
              <option value="DRMToday">DRMToday</option>
              <option value="GlobalTV">GlobalTV</option>
              <option value="moTV">moTV</option>
              <option value="NosTV">NosTV</option>
              <option value="oqee">Oqee</option>
              <option value="PolSatBoxGo">PolSatBoxGo</option>
              <option value="RedBee">Red Bee Media</option>
              <option value="thePlatform">thePlatform</option>
              <option value="VdoCipher">VdoCipher</option>
              <option value="VUDRM">VUDRM</option>
              <option value="Vodafone">Vodafone</option>
              <option value="Youku">Youku</option>
              <option value="YouTube">YouTube</option>
            </select>
          <input type="button" id="guess" value="Decrypt">
          <br>
        </div>

        <!-- Result line -->
        <div id="wvHomeResultLine">
          <label for="result">Result:</label><br>
          <textarea id="result" rows="10" cols="50" readonly></textarea>
        </div>

      </form>
      <button id="historyButton">Show History</button>
    </div>

    <!-- Clearkey -->
    <div id="ckHome">
      <h3>Clearkey detected</h3>
      <label for="ckResult">Result:</label>
      <textarea id="ckResult" rows="10" cols="50" readonly></textarea>
    </div>

    <!-- PSSH Selection -->
    <div id="selectPssh">
      <label for="psshSearch"></label>
      <input type="text" id="psshSearch" placeholder="Search for PSSH">
      <ul id="psshList"></ul>
    </div>

    <!-- License URL Selection -->
    <div id="selectRequest">
      <label for="requestSearch"></label>
      <input type="text" id="requestSearch" placeholder="Search for License request">
      <ul id="requestList"></ul>
    </div>

    <!-- History -->
    <div id="history">
      <div id="histDisp"></div>
      <div id="histButtons">
        <button class="text-red-600" id="backHistory">üîô Back</button>
        <button id="saveHistory">üíæ Save History</button>
        <button id="clearHistory">‚ùå Clear History</button>
      </div>
    </div>

    <!-- Update notice -->
    <div id="updateNoticeExtension">
      Version =VER= update available!
      <a href="https://github.com/FoxRefire/wvg/archive/=HASH=.zip"> Download</a>
    </div>
  </body>

  <!-- Scripts -->
  <script src="popup.js" type="module"></script>
  <script src="popup_drawList.js"></script>
  <script src="jsonview.js"></script>
  <script src="popup_showHistory.js"></script>
  <script src="popup_updateNotice.js"></script>

</html>
