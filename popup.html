<html>
  <head>
    <meta charset="UTF-8">
    <title>Widevine L3 Guessor 2024</title>
    <link rel="stylesheet" href="style.css">
    <script src="pyodide/pyodide.js"></script>
  </head>
  <body id="bodyid">
    <div id="toggleHistory">
      <button id="historyButton">Show History</button><br><br>
    </div>
    <div id="noEME">
      Widevine content hasn't detected in this page.<br>
      Open widevine-protected website and try again!
    </div>
    <div id="home" class="hidden">
      <form id="wvForm">
        <label for="pssh">PSSH</label>
        <input type="text" id="pssh" disabled/>
        <input type="hidden" id="psshIndex" />
        <input type="button" id="psshButton" value="Select" /><br>

        <label for="license">License URL</label>
        <input type="text" id="license" disabled/>
        <input type="hidden" id="licenseIndex" />
        <input type="button" id="licenseButton" value="Select" /><br>

        <label for="scheme">Challenge scheme</label>
        <select id="scheme">
          <option value="CommonWV">CommonWV</option>
          <option value="CanalPlus">Canal+</option>
          <option value="Amazon">Amazon</option>
          <option value="Comcast">Comcast Xfinity</option>
          <option value="DRMToday">DRMToday</option>
          <option value="GlobalTV">GlobalTV</option>
          <option value="NosTV">NosTV</option>
          <option value="Polsat">Polsat</option>
          <option value="RedBee">Red Bee Media</option>
          <option value="RiverTV">RiverTV</option>
          <option value="thePlatform">thePlatform</option>
          <option value="VdoCipher">VdoCipher</option>
          <option value="Youku">Youku</option>
        </select>

        <input type="button" id="guess" value="Guess!"><br>

        <label for="result">Result:</label><br>
        <textarea id="result" rows="10" cols="50"></textarea>

      </form>
    </div>
    <div id="ckHome" class="hidden">
      <h3>Clearkey detected</h3>
      <label for="ckResult">Result:</label><br>
      <textarea id="ckResult" rows="10" cols="50"></textarea>
    </div>
    <div id="selectPssh" class="hidden">
      <input type="text" id="psshSearch" placeholder="Search">
      <ul id="psshList"></ul>
    </div>
    <div id="selectRequest" class="hidden">
      <input type="text" id="requestSearch" placeholder="Search">
      <ul id="requestList"></ul>
    </div>
    <div id="history" class="hidden">
      <button id="backHistory">üîô Back</button>
      <button id="saveHistory">üíæ Save History</button>
      <button id="clearHistory">‚ùå Clear History</button>
      <div id="histDisp"></div>
    </div>
    <div id="updateNotice" class="hidden">
      Version =VER= update available!
      <a href="https://github.com/FoxRefire/wvg/archive/=HASH=.zip">Download</a>
    </div>
  </body>
  <script src="popup.js" type="module"></script>
  <script src="popup_drawList.js"></script>
  <script src="jsonview.js"></script>
  <script src="popup_showHistory.js"></script>
  <script src="popup_updateNotice.js"></script>
</html>
